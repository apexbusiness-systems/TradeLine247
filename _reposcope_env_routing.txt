===== env.example =====
ELEVEN_LABS_API_KEY=your_elevenlabs_api_key
ELEVEN_VOICE_ID=your_voice_id
ELEVEN_MODEL_ID=eleven_multilingual_v2
# Optional: set true only in non-production tests to bypass browser guard
# ALLOW_VOICE_IN_BROWSER=true

===== vercel.json =====
{
  "$schema": "https://openapi.vercel.sh/vercel.json",
  "installCommand": "npm ci",
  "buildCommand": "npm run build",
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        { "key": "X-Frame-Options", "value": "DENY" },
        { "key": "X-Content-Type-Options", "value": "nosniff" },
        { "key": "Strict-Transport-Security", "value": "max-age=31536000; includeSubDomains" },
        { "key": "Referrer-Policy", "value": "strict-origin-when-cross-origin" },
        { "key": "Permissions-Policy", "value": "camera=(), microphone=(self), geolocation=()" },
        {
          "key": "Content-Security-Policy",
          "value": "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com data:; img-src 'self' data: https: blob:; connect-src 'self' https://*.supabase.co wss://*.supabase.co https://api.twilio.com https://api.openai.com https://api.resend.com; frame-ancestors 'none';"
        }
      ]
    }
  ]
}

===== capacitor.config.ts =====
import { CapacitorConfig } from '@capacitor/cli';

const config: CapacitorConfig = {
  appId: 'com.apex.tradeline',   // must match your ASC bundle id
  appName: 'TradeLine 24/7',
  webDir: 'dist',
  server: {
    // CRITICAL: Prevents localStorage wipe on Capacitor upgrade
    androidScheme: 'http',
  },
};

export default config;

===== docs/telephony.md =====
TWILIO_AUTH_TOKEN=your_auth_token_here
ENV_TWILIO_STREAM_URL=wss://your-ai-service.com/stream
OPS_NUMBER=+14319900222  # Human fallback number (E.164 format)
BUSINESS_TARGET_E164=+14319900222  # Alternative env var

===== docs/voice-assistant.md =====
ELEVEN_VOICE_ID=...

===== docs/voice-elevenlabs.md =====
ELEVEN_VOICE_ID — default TradeLine receptionist voice id (server only).

===== scripts/predeploy-security.sh =====
# Blocks deployment if insecure Twilio bypass is enabled in production
# Check 1: Twilio webhook bypass must not be enabled in production
echo "✅ Twilio webhook security: PASS"